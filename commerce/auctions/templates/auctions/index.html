{% extends "auctions/layout.html" %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'auctions/static/styles.css' %}">
{% block body %}
    <h2>Active Listings</h2>

    <form action="{% url 'displayCategory' %}" method="POST" class="my-3">
        {% csrf_token %}
        <label for="category">Choose a category:</label>
        <select name="category" id="category">
            {% for cat in categories %}
                <option value="{{ cat }}">{{ cat }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-warning">Select</button>
    </form>

    <div class="flex flex-wrap justify-center gap-6">
        {% for listing in listings %}
            <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-40 max-w-sm mx-auto mt-24">
                <img src="{{ listing.imageUrl }}" alt="{{ listing.title }}" class="absolute inset-0 h-full w-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
                <h3 class="z-10 mt-3 text-3xl font-bold text-white">{{ listing.title }}</h3>
                <div class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300">{{ listing.description }}</div>
                <a href="{% url 'listing' listing.id %}" class="z-10 mt-2 text-sm font-semibold text-blue-500 hover:text-blue-700">Details</a>
            </article>
        {% endfor %}
    </div>
{% endblock %}
